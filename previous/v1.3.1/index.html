<!DOCTYPE html><html lang="en" class="introduction"><head><meta charset="utf-8"><title>Spectacular - Introduction</title><link href="http://fonts.googleapis.com/css?family=Roboto:400,100,300" rel="stylesheet" type="text/css"><link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.2.1/pure-min.css"><link href="css/caniuse.css" rel="stylesheet" type="text/css"><link href="css/page.css" rel="stylesheet" type="text/css"><script src="http://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.6.2/coffee-script.min.js" type="text/javascript"></script></head><body><div id="layout" class="pure-g-r content"><div id="nav" class="pure-u"><a href="#" class="nav-menu-button">Menu</a><header><h1>Spectacular</h1><h2>1.3.1</h2></header><div class="nav-inner"><div class="pure-menu pure-menu-open"><ul><li><a href=".">Home</a></li><li><a href=".#download">Download</a></li><li><a href="./examples.html">Writing Tests</a></li><li><a href="./tools.html">Tests Tools</a></li><li><a href="./extend.html">Extend Spectacular</a></li><li><a href="./tests.html">Online Test Tool</a></li><li><a href="./changelog.html">ChangeLog</a></li><li><a href="./previous.html">Archives</a></li></ul></div><hr><a href="https://github.com/abe33/spectacular" class="fork"><i class="icon-github"></i>Fork me on GitHub</a><div class="badges"><a href="https://travis-ci.org/abe33/spectacular"><img src="https://travis-ci.org/abe33/spectacular.png" alt="Build Status"></a><a href="https://coveralls.io/r/abe33/spectacular?branch=master"><img src="https://coveralls.io/repos/abe33/spectacular/badge.png?branch=master" alt="Coverage Status"></a><a href="https://gemnasium.com/abe33/spectacular"><img src="https://gemnasium.com/abe33/spectacular.png" alt="Dependency Status"></a><a href="http://badge.fury.io/js/spectacular"><img src="https://badge.fury.io/js/spectacular.png" alt="NPM version"></a></div></div></div><div id="list" class="pure-u-1"><nav id="toc"></nav></div><div id="main" class="pure-u-1"><div class="gutter"><h1>Introduction</h1><p>Spectacular is a <abbr title='Behavior-Driven Development'>BDD</abbr> framework for CoffeeScript and JavaScript whose attempt to bring the power of RSpec to JavaScript. Spectacular tries to favor the best practices used for writing <a href="http://betterspecs.org/">better RSpec tests</a> in its design.</p>
<p>These are the kind of tests you can write with Spectacular:</p>
<pre><code class="lang-coffeescript">describe <span class="constant">Array</span><span class="punctuation">,</span> <span class="function">-></span>
  given <span class="string"><span class="string_begin">'</span>item<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="function">-></span> <span class="property">foo<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>bar<span class="string_end">'</span></span>

  it <span class="function">-></span> should exist

  itsInstance <span class="string"><span class="string_begin">'</span>length<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="function">-></span> should equal <span class="number">0</span>

  describe <span class="string"><span class="string_begin">'</span>::indexOf<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="function">-></span>
    context <span class="string"><span class="string_begin">'</span>with an item not present in the array<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="function">-></span>
      itsReturn <span class="property">with<span class='punctuation'>:</span></span> <span class="group"><span class="group_begin">(</span><span class="function">-></span> <span class="punctuation">[</span><span class="property">@item</span><span class="punctuation">]</span><span class="group_end">)</span></span><span class="punctuation">,</span> <span class="function">-></span> should equal <span class="operators">-</span><span class="number">1</span>

    context <span class="string"><span class="string_begin">'</span>with an item present in the array<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="function">-></span>
      subject <span class="string"><span class="string_begin">'</span>array<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="function">-></span> <span class="punctuation">[</span><span class="property">@item</span><span class="punctuation">]</span>

      specify <span class="string"><span class="string_begin">'</span>the returned value<span class="string_end">'</span></span><span class="punctuation">,</span> <span class="function">-></span>
        expect<span class="group"><span class="group_begin">(</span><span class="property">@array</span><span class="punctuation">.</span>indexOf <span class="property">@item</span><span class="group_end">)</span></span><span class="punctuation">.</span>to equal <span class="number">0</span></code></pre>
<h2>Features, the short tour</h2>
<ul>
<li>Conditioned Specs</li>
<li>Matcher based description</li>
<li>Implicit subjects</li>
<li>Describe auto-subject</li>
<li>Factories</li>
<li>JSON and HTML fixtures (and more)</li>
<li>Promised-based tests run</li>
<li>Synchronous and asynchronous matchers</li>
<li>Synchronous and asynchronous tests</li>
<li>Browser support</li>
<li>Shared examples</li>
<li>Custom matchers</li>
<li>CSS-queries expressions to test the DOM content</li>
<li>Strings and objects diff in comparison results</li>
<li>The API is provided with both camelCase and snake_case version</li>
<li>No external dependencies in browsers</li>
</ul>
<hr>
<h2>Install</h2>
<h3>NodeJS</h3>
<p>Spectacular is available as a <a href="http://npmjs.org/">npm</a> module, you can then install it with:</p>
<pre><code class="lang-shell">npm install -g spectacular</code></pre>
<p>This will install Spectacular globally and allow you to use the Spectacular command line tool.</p>
<h3>Browser</h3>
<p>First download Spectacular:</p>
<div id="download"><a href='spectacular-1.3.1.zip' class='download' target='_blank'><i class='icon-download'></i>Download</a></div>

<p>Then puts Spectacular in your html file:</p>
<pre><code class="lang-xml"><span class="tag"><<span class="title">link</span> <span class="attribute">href</span>=<span class="value">"build/css/spectacular.css"</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">type</span>=<span class="value">"text/css"</span>/></span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"build/js/spectacular.js"</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>/></span><span class="javascript"></span></code></pre>
<p>You can see the runner live at the bottom of this page in the <a href="/#Spectacular-Tests">Spectacular Tests</a> section.</p>
<p>You can pass options to spectacular by defining <code>spectacular.options</code> before the spectacular script node :</p>
<pre><code class="lang-coffeescript">spectacular <span class="operators">=</span>
  <span class="property">options<span class='punctuation'>:</span></span>
    <span class="property">verbose<span class='punctuation'>:</span></span> <span class="literal">false</span>
    <span class="property">trace<span class='punctuation'>:</span></span> <span class="literal">true</span>
    <span class="property">longTrace<span class='punctuation'>:</span></span> <span class="literal">false</span>
    <span class="property">showSource<span class='punctuation'>:</span></span> <span class="literal">true</span>
    <span class="property">fixturesRoot<span class='punctuation'>:</span></span> <span class="string"><span class="string_begin">'</span>./js/fixtures<span class="string_end">'</span></span>
    <span class="property">globs<span class='punctuation'>:</span></span> <span class="punctuation">[</span><span class="punctuation">]</span></code></pre>
<p>You can also pass an array containing the paths to the specs files in a <code>spectacular.paths</code> array.</p>
<pre><code class="lang-coffeescript">spectacular <span class="operators">=</span>
  <span class="property">paths<span class='punctuation'>:</span></span> <span class="punctuation">[</span><span class="string"><span class="string_begin">'</span>js/specs.js<span class="string_end">'</span></span><span class="punctuation">]</span></code></pre>
<p>It will allow the runner to crop the stack at the point a spec file is found and display the source of the test that failed. Errored test&#39;s stack is not cropped.</p>
<p>Spectacular rely on some feature that may not be available in all browsers. You can find below the list of features and the minimum browser version needed to use them.</p>
<div class="caniuse_static">
  <h1>Object.defineProperty</h1>
  <p class="status">ECMAScript 5</p>
  <p>Supported from the following versions:</p>
  <h2 id="Desktop">Desktop</h2>
  <ul class="agents">
    <li title="Chrome - Yes" class="icon-chrome y"><span class="version">5</span></li>
    <li title="Firefox - Yes" class="icon-firefox y"><span class="version">4</span></li>
    <li title="IE - Yes" class="icon-ie y"><span class="version">9</span></li>
    <li title="Opera - Yes" class="icon-opera y"><span class="version">11.60</span></li>
    <li title="Safari - Yes" class="icon-safari y"><span class="version">5.1</span></li>
  </ul>
  <h2 id="Mobile-Tablet">Mobile / Tablet</h2>
  <ul class="agents">
    <li title="iOS Safari - Yes" class="icon-ios_saf y"><span class="version">0</span></li>
    <li title="Android Browser - Yes" class="icon-android y"><span class="version">0</span></li>
    <li title="Opera Mobile - Yes" class="icon-op_mob y"><span class="version">11.50</span></li>
    <li title="Chrome for Android - Yes" class="icon-and_chr y"><span class="version">0</span></li>
    <li title="Firefox for Android - Yes" class="icon-and_ff y"><span class="version">4</span></li>
  </ul>
  <ul class="legend">
    <li>Supported:</li>
    <li class="y">Yes</li>
    <li class="n">No</li>
    <li class="a">Partially</li>
    <li class="p">Polyfill</li>
  </ul>
  <p class="stats">Stats from <a href="http://mdn.beonex.com/en/JavaScript/Reference/Global_Objects/Object/defineProperties.html" target="_blank">mdn</a></p>
</div>
<div class="caniuse" data-feature="querySelector"></div>

<h2>Command-line</h2>
<p>The most simple way to use the spectacular command line tool is as follow:</p>
<pre><code class="lang-shell">spectacular test specs/**/*.spec.js</code></pre>
<h3>Commands</h3>
<table cellspacing="0">
  <tr>
    <td><code>test</code></td>
    <td>Runs the tests on NodeJS.</td>
  </tr>

  <tr>
    <td><code>server</code></td>
    <td>Starts a server. The specs can then be accessed from a browser at the the following address: <code>http://localhost:5000</code>. The default port can be changed by setting the <code>PORT</code> environment variable.</td>
  </tr>

  <tr>
    <td><code>phantomjs</code></td>
    <td>Assuming you have PhantomJS installed, it will starts a server and run the test on PhantomJS.</td>
  </tr>

  <tr>
    <td><code>slimerjs</code></td>
    <td>Assuming you have SlimerJS installed, it will starts a server and run the test on SlimerJS.</td>
  </tr>
</table>

<h3>Options</h3>
<table cellspacing="0">
  <tr>
    <td><code>-c, --coffee</code></td>
    <td>Add support for CoffeeScript files. You can now run your specs with: <code>spectacular --coffee specs/**/*.coffee</code>.</td>
  </tr>
  <tr>
    <td><code>-v, --verbose</code></td>
    <td>Enable verbose output.</td>
  </tr>
  <tr>
    <td><code>-t, --trace</code></td>
    <td>Enable stack trace report for failures (default is <code>true</code>).</td>
  </tr>
  <tr>
    <td><code>--long-trace</code></td>
    <td>By default the stack traces are cropped after 6 lines to limit the amount of output. You can display the full stack trace with this option.</td>
  </tr>
  <tr>
    <td><code>-p, --profile</code></td>
    <td>Add a report with the 10 slowest examples at the end of the output.</td>
  </tr>
  <tr>
    <td><code>-d, --documentation</code></td>
    <td>Enable the documentation format in the output.</td>
  </tr>
  <tr class='deprecated'>
    <td><code>-s, --server</code></td>
    <td>Use the <code>server</code> command instead.</td>
  </tr>
  <tr class='deprecated'>
    <td><code>--phantomjs</code></td>
    <td>Use the <code>phantomjs</code> command instead.</td>
  </tr>
  <tr>
    <td><code>--phantomjs-bin PATH</code></td>
    <td>Pass the path to the PhantomJS binary.</td>
  </tr>
  <tr>
    <td><code>--slimerjs-bin PATH</code></td>
    <td>Pass the path to the SlimerJS binary.</td>
  </tr>
  <tr>
    <td><code>--source GLOB</code></td>
    <td>When using the server, it allow to add files that matches the patterns as served files in the html runner. You can use this option as many times as you need.</td>
  </tr>
  <tr>
    <td><code>-m, --matchers PATH</code></td>
    <td>Specify the path where project matchers can be found, by default matchers are loaded from <code>./specs/support/matchers</code>.</td>
  </tr>
  <tr>
    <td><code>--helpers PATH</code></td>
    <td>Specify the path where project helpers can be found, by default helpers are loaded from <code>./specs/support/helpers</code>.</td>
  </tr>
  <tr>
    <td><code>--fixtures PATH</code></td>
    <td>Specify the path where project fixtures can be found, by default fixtures are loaded from <code>./specs/support/fixtures</code>.</td>
  </tr>
  <tr>
    <td><code>--no-trace</code></td>
    <td>Remove stack trace from failures reports.</td>
  </tr>
  <tr>
    <td><code>--random</code></td>
    <td>Enable tests randomization.</td>
  </tr>
  <tr>
    <td><code>--no-random</code></td>
    <td>Disable tests randomization.</td>
  </tr>
  <tr>
    <td><code>--seed INT</code></td>
    <td>Sets the seed for the tests randomization.</td>
  </tr>
  <tr>
    <td><code>--colors</code></td>
    <td>Enable coloring of the output.</td>
  </tr>
  <tr>
    <td><code>--no-colors</code></td>
    <td>Disable coloring of the output.</td>
  </tr>
  <tr>
    <td><code>--no-matchers</code></td>
    <td>Disable the loading of project matchers.</td>
  </tr>
  <tr>
    <td><code>--no-helpers</code></td>
    <td>Disable the loading of project helpers.</td>
  </tr>
</table>

<p>Options can also be defined in a <code>.spectacular</code> file at the root of your project.</p>
</div></div><script src="js/caniuse.js" type="text/javascript"></script></div><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script><script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js" type="text/javascript"></script><script src="js/pages.js" type="text/javascript"></script></body></html>